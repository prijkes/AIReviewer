# ============================================================================
# Azure DevOps Provider Configuration
# ============================================================================
#
# This file contains Azure DevOps-specific settings for AIReviewer.
# These settings only apply when using the Azure DevOps provider.
#
# For generic AIReviewer settings (AI, review behavior, etc.), see settings.ini
#
# ============================================================================

# ============================================================================
# [Azure Service Bus Queue Settings]
# Control how the application processes events from Azure Service Bus
# ============================================================================

[Queue]

# ----------------------------------------------------------------------------
# QueueName
# ----------------------------------------------------------------------------
# The name of the Azure Service Bus queue to receive pull request events from.
#
# This queue receives webhook events from Azure DevOps when pull request
# activities occur (comments, updates, etc.).
#
# Setup:
#   1. Create an Azure Service Bus namespace
#   2. Create a queue within that namespace
#   3. Configure Azure DevOps Service Hooks to send events to this queue
#   4. Set ServiceBusConnectionString environment variable
#
# Format: Plain text queue name
#
# Cost Impact: None (Azure Service Bus pricing is separate)
# When to Change: If you want to use a different queue
#
# Default: aireviewer-events
QueueName = aireviewer-events

# ----------------------------------------------------------------------------
# BotDisplayName
# ----------------------------------------------------------------------------
# The display name of the AI bot for @mention detection in PR comments.
#
# Users will @mention this name to invoke the AI assistant in pull request
# comment threads. For example: "@AIReviewer please review this approach"
#
# The bot will only respond to comments that mention this name, allowing it
# to remain passive until explicitly invoked.
#
# Format: Plain text display name (avoid spaces for easier @mentioning)
#
# Cost Impact: None
# When to Change: If you want a different bot name
#
# Default: AIReviewer
BotDisplayName = AIReviewer

# ----------------------------------------------------------------------------
# MaxConcurrentCalls
# ----------------------------------------------------------------------------
# Maximum number of messages to process concurrently from the queue.
#
# Higher values allow parallel processing of multiple PR events but increase
# resource usage and AI API costs if many events arrive simultaneously.
#
# Guidelines:
#   - 1     = Sequential processing (safest, lowest resource usage)
#   - 2-5   = Moderate parallelism (RECOMMENDED)
#   - 10+   = High parallelism (requires more resources)
#
# Cost Impact: High (more concurrent calls = more simultaneous AI API calls)
# When to Change: Based on expected event volume and available resources
#
# Default: 5
MaxConcurrentCalls = 5

# ----------------------------------------------------------------------------
# MaxWaitTimeSeconds
# ----------------------------------------------------------------------------
# Maximum time in seconds to wait for a message before checking cancellation.
#
# The queue processor will wait this long for new messages before checking
# if the application is shutting down. Lower values make the application
# more responsive to shutdown requests but may increase polling overhead.
#
# Guidelines:
#   - 5-10  = Quick shutdown response
#   - 30    = Balanced (RECOMMENDED)
#   - 60+   = Longer wait (may delay shutdown)
#
# Cost Impact: None
# When to Change: If shutdown responsiveness is important
#
# Default: 30
MaxWaitTimeSeconds = 30

# ----------------------------------------------------------------------------
# MaxDeliveryAttempts
# ----------------------------------------------------------------------------
# Maximum number of delivery attempts before moving message to dead-letter queue.
#
# When the queue processor fails to process a message (exception occurs),
# the message is returned to the queue for retry. After this many failed
# attempts, the message is moved to the dead-letter queue for manual inspection.
#
# Guidelines:
#   - 1     = No retries (move to dead-letter immediately on failure)
#   - 3     = Standard retry count (RECOMMENDED)
#   - 5-10  = More retries for transient failures
#
# Cost Impact: None
# When to Change: Based on expected transient failure frequency
#
# Default: 3
MaxDeliveryAttempts = 3

# ----------------------------------------------------------------------------
# MessageLockRenewalMinutes
# ----------------------------------------------------------------------------
# Duration in minutes to automatically renew message lock during processing.
#
# Azure Service Bus locks messages while being processed. If processing takes
# longer than the lock duration, the message becomes available for other
# consumers. This setting automatically renews the lock to prevent that.
#
# Guidelines:
#   - 5     = Standard processing time (RECOMMENDED)
#   - 10    = Allow longer AI processing
#   - 15+   = Very long running operations
#
# Note: Azure Service Bus has a maximum lock duration limit
#
# Cost Impact: None
# When to Change: If message processing takes longer than the lock duration
#
# Default: 5
MessageLockRenewalMinutes = 5


# ============================================================================
# End of Azure DevOps Provider Configuration
# ============================================================================
